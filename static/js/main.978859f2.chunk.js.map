{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/UI/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/UI/Spynner/Spynner.module.css","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/services/Api.jsx","components/default.jpg","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/UI/Button/Button.jsx","components/UI/Spynner/Spynner.jsx","components/Modal/Modal.jsx","App.js","index.js","components/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","style","type","SearchFormButton","SearchFormButtonLabel","autocomplete","autofocus","placeholder","onChange","SearchFormInput","Component","Searchbar","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","ImageGalleryItem","images","onClickImage","map","id","webformatURL","defaultImage","largeImageURL","src","alt","ImageGalleryItemImage","onClick","ImageGallery","Button","fetchImages","children","Box","Spynner","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","bigImage","App","isLoading","error","showModal","largeImage","onChangeQuery","options","newApi","prevState","catch","finally","toggleModal","openModal","imageForModal","closeModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,yB,mBCArDD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,wCCA3DD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,IAAM,uB,qMCuCTC,E,4MApCbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,S,EAGzCC,aAAe,SAAAJ,GACbA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,uBAAMS,SAAUC,KAAKJ,aAAcK,UAAWC,IAAMd,WAApD,UACE,wBAAQe,KAAK,SAASF,UAAWC,IAAME,iBAAvC,SACE,sBAAMH,UAAWC,IAAMG,sBAAvB,sBAGF,uBACEF,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZb,MAAOK,KAAKX,MAAMC,MAClBmB,SAAUT,KAAKT,aACfU,UAAWC,IAAMQ,yB,GA9BFC,aCcVC,EAZG,SAAC,GAAkB,IAAhBb,EAAe,EAAfA,SACnB,OACE,wBAAQE,UAAWC,IAAMU,UAAzB,SACE,cAAC,EAAD,CAAYb,SAAUA,O,iBCEb,EARK,SAAC,GAAyD,IAAD,IAAtDc,mBAAsD,MAAxC,GAAwC,MAApCC,mBAAoC,MAAtB,EAAsB,MAAnBC,gBAAmB,MAAR,EAAQ,EAC3E,OAAOC,IACJC,IADI,qCAE2BJ,EAF3B,iBAE+CC,EAF/C,oGAEsJC,IAE1JG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,S,kCCPrB,MAA0B,oCCiC1BC,EA5BU,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAClC,OACE,mCACGD,EAAOE,KAAI,gBAAGC,EAAH,EAAGA,GAAH,IAAOC,oBAAP,MAAsB,CAAEC,gBAAxB,EAAwCC,EAAxC,EAAwCA,cAAxC,OACV,oBAAa5B,UAAWC,IAAMoB,iBAA9B,SACE,qBACEQ,IAAKH,EACLI,IAAI,GACJ9B,UAAWC,IAAM8B,sBACjBC,QAAS,kBAAMT,EAAa,CAAEK,sBALzBH,SCGFQ,EARM,SAAC,GAA8B,IAA5BX,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC9B,OACE,oBAAIvB,UAAWC,IAAMgC,aAArB,SACE,cAAC,EAAD,CAAkBX,OAAQA,EAAQC,aAAcA,O,iBCUvCW,EAbA,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,SAAhB,OACb,qBAAKpC,UAAWC,IAAMoC,IAAtB,SACE,wBAAQnC,KAAK,SAASF,UAAWC,IAAMiC,OAAQF,QAASG,EAAxD,SACGC,O,0CCMQE,EARC,WACd,OACE,qBAAKtC,UAAWC,IAAMoC,IAAtB,SACE,cAAC,IAAD,CAAQnC,KAAK,YAAYqC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,Q,iBCJ5DC,EAAYC,SAASC,cAAc,eAkC1BC,E,4MAzBbC,cAAgB,SAAAvD,GACC,WAAXA,EAAEwD,OACJC,QAAQC,IAAI,kKAEZ,EAAKpD,MAAMqD,Y,EAIfC,oBAAsB,SAAAC,GAChBA,EAAM3D,gBAAkB2D,EAAMC,QAChC,EAAKxD,MAAMqD,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWxD,KAAK+C,iB,kCAE1C,WACEQ,OAAOE,oBAAoB,UAAWzD,KAAK+C,iB,oBAe7C,WACE,OAAOW,uBACL,qBAAKzD,UAAWC,IAAMyD,QAAS1B,QAASjC,KAAKoD,oBAA7C,SACE,qBAAKnD,UAAWC,IAAM4C,MAAtB,SACE,qBAAKhB,IAAK9B,KAAKF,MAAM8D,SAAU7B,IAAI,SAGvCY,O,GA3BchC,aCiGLkD,E,4MA7FbxE,MAAQ,CACNkC,OAAQ,GACRT,YAAa,EACbD,YAAa,GACbiD,WAAW,EACXC,MAAO,KACPC,WAAW,EACXC,WAAY,I,EAedC,cAAgB,SAAA5E,GACd,EAAKG,SAAS,CACZ8B,OAAQ,GACRT,YAAa,EACbD,YAAavB,EACbyE,MAAO,Q,EAIX3B,YAAc,WACZ,MAAqC,EAAK/C,MAAlCyB,EAAR,EAAQA,YACFqD,EAAU,CACdtD,YAFF,EAAqBA,YAGnBC,eAEF,EAAKrB,SAAS,CACZqE,WAAW,IAEbM,EACeD,GACZjD,MAAK,SAAAC,GACJ,EAAK1B,UAAS,SAAA4E,GAAS,MAAK,CAC1B9C,OAAO,GAAD,mBAAM8C,EAAU9C,QAAhB,YAA2BJ,IACjCL,YAAauD,EAAUvD,YAAc,SAGxCwD,OAAM,SAAAP,GAAK,OAAI,EAAKtE,SAAS,CAAEsE,MAAOA,OACtCQ,SAAQ,kBAAM,EAAK9E,SAAS,CAAEqE,WAAW,Q,EAG9CU,YAAc,WACZ,EAAK/E,UAAS,kBAAoB,CAChCuE,WADY,EAAGA,e,EAInBS,UAAY,SAAAC,GACVzB,QAAQC,IAAI,aAAcwB,GAC1B,EAAKjF,UAAS,iBAAO,CAAEwE,WAAYS,MACnC,EAAKF,e,EAEPG,WAAa,WACX,EAAKlF,SAAS,CAAEwE,WAAY,KAC5B,EAAKO,e,wDAtDP,SAAmBI,EAAWP,GACxBA,EAAUxD,cAAgBb,KAAKX,MAAMwB,aACvCb,KAAKoC,cAEHiC,EAAUvD,cAAgBd,KAAKX,MAAMyB,aACvCyC,OAAOsB,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,a,oBAkDhB,WACE,MAA4DjF,KAAKX,MAAzDkC,EAAR,EAAQA,OAAQuC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,MAAOC,EAAlC,EAAkCA,UAAWC,EAA7C,EAA6CA,WACvCiB,EAA6B3D,EAAO4D,OAAS,IAAMrB,EAGzD,OAFAb,QAAQC,IAAI,6EAAkBe,EAAWpC,eAGvC,sBAAK5B,UAAWC,IAAM2D,IAAtB,UACGE,GAAS,yEACV,cAAC,EAAD,CAAWhE,SAAUC,KAAKkE,gBAC1B,cAAC,EAAD,CAAc3C,OAAQA,EAAQC,aAAcxB,KAAKyE,YAEhDS,GACC,cAAC,EAAD,CAAQ9C,YAAapC,KAAKoC,YAA1B,uBAED0B,GAAa,cAAC,EAAD,IACbE,GACC,cAAC,EAAD,CACEb,QAASnD,KAAKwE,YACdZ,SAAUK,EAAWpC,uB,GAtFflB,aCJlByE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1C,SAAS2C,eAAe,U,kBCR1BrG,EAAOC,QAAU,CAAC,WAAa,+BAA+B,iBAAmB,qCAAqC,sBAAwB,0CAA0C,gBAAkB,uC","file":"static/js/main.978859f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3i_aj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3I6z4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Box\":\"Button_Box__3lPEv\",\"Button\":\"Button_Button__1Y3tv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__7L6DT\",\"Modal\":\"Modal_Modal__1nZAH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2rU0k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1k20H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Box\":\"Spynner_Box__2D8zV\"};","import React, { Component } from 'react';\r\nimport style from './SearchForm.module.css';\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={style.SearchForm}>\r\n        <button type=\"submit\" className={style.SearchFormButton}>\r\n          <span className={style.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          type=\"text\"\r\n          autocomplete=\"off\"\r\n          autofocus\r\n          placeholder=\"Search images and photos\"\r\n          value={this.state.query}\r\n          onChange={this.handleChange}\r\n          className={style.SearchFormInput}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Searchbar.module.css';\r\nimport SearchForm from '../SearchForm';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className={style.Searchbar}>\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 9 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=20678910-4bf7e071ea6bce7ee5607a0cc&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };\r\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\r\nimport style from './ImageGalleryItem.module.css';\r\nimport defaultImage from '../default.jpg';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ images, onClickImage }) => {\r\n  return (\r\n    <>\r\n      {images.map(({ id, webformatURL = { defaultImage }, largeImageURL }) => (\r\n        <li key={id} className={style.ImageGalleryItem}>\r\n          <img\r\n            src={webformatURL}\r\n            alt=\"\"\r\n            className={style.ImageGalleryItemImage}\r\n            onClick={() => onClickImage({ largeImageURL })}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n    }),\r\n  ),\r\n  onClickImage: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport style from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => {\r\n  return (\r\n    <ul className={style.ImageGallery}>\r\n      <ImageGalleryItem images={images} onClickImage={onClickImage} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages, children }) => (\r\n  <div className={style.Box}>\r\n    <button type=\"button\" className={style.Button} onClick={fetchImages}>\r\n      {children}\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func,\r\n  children: PropTypes.string,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport style from './Spynner.module.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Spynner = () => {\r\n  return (\r\n    <div className={style.Box}>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spynner;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={style.Modal}>\r\n          <img src={this.props.bigImage} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport style from './App.css';\nimport Searchbar from './components/Searchbar';\nimport newApi from './components/services';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/UI/Button';\nimport Spynner from './components/UI/Spynner';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (prevState.currentPage !== this.state.currentPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n    this.setState({\n      isLoading: true,\n    });\n    newApi\n      .fetchImages(options)\n      .then(response => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...response],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  openModal = imageForModal => {\n    console.log('Open Modal', imageForModal);\n    this.setState(() => ({ largeImage: imageForModal }));\n    this.toggleModal();\n  };\n  closeModal = () => {\n    this.setState({ largeImage: '' });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImage } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n    console.log('Это рендер Арр', largeImage.largeImageURL);\n\n    return (\n      <div className={style.App}>\n        {error && <h1>Ошибка!!!</h1>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} onClickImage={this.openModal} />\n\n        {shouldRenderLoadMoreButton && (\n          <Button fetchImages={this.fetchImages}>load more</Button>\n        )}\n        {isLoading && <Spynner />}\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            bigImage={largeImage.largeImageURL}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__xDqLV\",\"SearchFormButton\":\"SearchForm_SearchFormButton__1F3Qt\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__3Qn_R\",\"SearchFormInput\":\"SearchForm_SearchFormInput__3l2V-\"};"],"sourceRoot":""}